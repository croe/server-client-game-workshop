<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>sample</title>

    <script type="text/javascript">
      console.log("送信ボタンを押して下さい");
      var sock = new WebSocket('ws://127.0.0.1:3001');

      sock.addEventListener('open',function(e){// 接続
        console.log('Socket 接続成功');
      });

      sock.addEventListener('message',function(e){// サーバーからデータを受け取る
        console.log(e.data);
      });

      document.addEventListener('DOMContentLoaded',function(e){
        document.getElementById('sample').addEventListener('click',function(e){
          console.log("send Hello!!");
          sock.send('hello');// WebSocketでサーバーに文字列を送信
        });
      });
    </script>
</head>

<body>
<h1>Hello Node.js!</h1>
<input type="button" id="sample" value="送信">
</body>
</html>